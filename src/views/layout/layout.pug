include ../blocks/variables
block variables
doctype html
html(lang='ru')
  head
    meta(charset="utf-8")
    title #{title}
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    //color
    meta(name="theme-color" content="#000")
    //favicons
    link(rel="shortcut icon" href="img/favicons/favicon.ico" type="image/x-icon")
    link(rel="icon" sizes="16x16" href="img/favicons/favicon-16x16.png" type="image/png")
    link(rel="icon" sizes="32x32" href="img/favicons/favicon-32x32.png" type="image/png")
    link(rel="apple-touch-icon-precomposed" href="img/favicons/apple-touch-icon-precomposed.png")
    link(rel="apple-touch-icon" href="img/favicons/apple-touch-icon.png")
    link(rel="apple-touch-icon" sizes="57x57" href="img/favicons/apple-touch-icon-57x57.png")
    link(rel="apple-touch-icon" sizes="60x60" href="img/favicons/apple-touch-icon-60x60.png")
    link(rel="apple-touch-icon" sizes="72x72" href="img/favicons/apple-touch-icon-72x72.png")
    link(rel="apple-touch-icon" sizes="76x76" href="img/favicons/apple-touch-icon-76x76.png")
    link(rel="apple-touch-icon" sizes="114x114" href="img/favicons/apple-touch-icon-114x114.png")
    link(rel="apple-touch-icon" sizes="120x120" href="img/favicons/apple-touch-icon-120x120.png")
    link(rel="apple-touch-icon" sizes="144x144" href="img/favicons/apple-touch-icon-144x144.png")
    link(rel="apple-touch-icon" sizes="152x152" href="img/favicons/apple-touch-icon-152x152.png")
    link(rel="apple-touch-icon" sizes="167x167" href="img/favicons/apple-touch-icon-167x167.png")
    link(rel="apple-touch-icon" sizes="180x180" href="img/favicons/apple-touch-icon-180x180.png")
    link(rel="apple-touch-icon" sizes="1024x1024" href="img/favicons/apple-touch-icon-1024x1024.png")
    //open graph
    meta(property='og:title' content='Национальная компания Евразия')
    meta(property='og:site_name' content=sitename)
    meta(property='og:url' content='https://articadev1.github.io/NKE/build/') 
    meta(property='og:description' content='Технология безостановочного подключения и ремонт трубопроводов.')
    meta(property='og:image' content='https://articadev1.github.io/NKE/build/img/logos/og.jpg')
    //themes
    link.theme-light(rel="stylesheet" href="./styles/theme-light.css")
    link.theme-dark(rel="stylesheet" href="./styles/theme-dark.css")
    script.
      const theme_dark = document.querySelector('.theme-dark');
      const theme_light = document.querySelector('.theme-light');
      let theme_state;
      let limit_time = 60, //minutes
          last_update_time = localStorage.getItem('theme_time'),
          time = +new Date(),
          time_remaining = limit_time-((time-last_update_time)/60000);
      if(last_update_time && time_remaining<0) {
        localStorage.removeItem('theme');
        localStorage.removeItem('theme_time');
      }
      let theme = localStorage.getItem('theme'),
          hours = +new Date().getHours();
      if((!theme && hours>8 && hours<20) || theme=='light') {
        theme_dark.setAttribute('disabled', '');
        theme_state = true;
      } else {
        theme_state = false;
      }
  body(style='overflow:hidden;')
    .row
      .col-6
    include ../blocks/preloader
    .wrapper(class=body_geadient?'bg-gradient':'')
      include ../blocks/header
      main.main
        block content
      include ../blocks/footer
    
    //modals
    include ../blocks/modals

    .consol
      


    //preview only
    include ../blocks/helper

    //fonts
    link(href='https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap', rel='stylesheet')
    //styles
    block styles
    link(rel="stylesheet" href="./styles/common.css")
    //webpack
    script(src="./scripts/app.js")
